<!DOCTYPE html>
<html lang="ko">
<head>
    <title>부산문화생활</title>


<!-- css font-family -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

<link rel="stylesheet" href="./space.css">
<script src="./space.js"></script>


<!-- 폰에서보기 레이아웃 -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

</head>


<body>

    <div class="entire">
    
        <div class="menu">            
            
            <div class="open">
                
                <div class="logo">
                    <a href="./recommandation.html">
                        <img src ="img/logo.png" width="120px" height="60px"></a>
                </div>       
            
                <div class="menu_side">
                    <li><a href="recommandation.html"> #전체보기</a></li>
                    <li><a href="index.html"> #일자보기</a></li>
                    <li><a href="space.html"> #공간어디</a></li>
                </div>

                <i onclick="show()" class="hamburg"> 
                    <img src ="img/hamburg.png" width="40px" height="50px"></a></i>

            </div><hr>


            <div id="menu_mini">  
                <li><a href="recommandation.html"> #전체보기</a></li>
                <li><a href="./canlendar/index.html"> #일자보기</a></li>
                <li><a href="space.html"> #공간어디</a></li>
            </div>
       



    <head>
        <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=p086u5t9kk"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    </head>

    <body>
        <div id="map" style="width:100%;height: 85vh;"></div>
    </body>


    <script type="text/javascript">

        // var cityhall = new naver.maps.LatLng(35.1577790, 129.0591715),
            
        
        //     map = new naver.maps.Map('map', {
        //     center: cityhall,
        //     zoom: 13
        //     })

        


        // var map = new naver.maps.Map('map', {
        //     center: new naver.maps.LatLng(35.1577790, 129.0591715),
        //     zoom: 13
        // })    



            // marker = new naver.maps.Marker({
            // icon: {
            //   url: "./img/point.png",
            //   scaledSize: new naver.maps.Size(25, 25),
            //   origin: new naver.maps.Point(0, 0),
            // },
            // map: map,
            // position: cityhall
            // });


        // var contentString = [

        // '<div class="iw_inner">',

        // '   <p style = "font-size: 15px; font-weight: bold; margin: 0px 0px 5px 0px" > 부산문화생활<br/>',
        // '   </p>',

        // '   <p style = "font-size: 10px; margin: 0px" > 부산시 해운대구 수영강변대로 140<br/>',
        // '       <a href="http://www.instagram.com/busan_munhwa_saenghwal/" target="_blank">@부산문화생활</a><br />',
        // '       <img src="/img/1.jpg" width="55" height="55"><img src="/img/2.jpg" width="55" height="55"><br />',
        // '   </p>',

        // '</div>'

        // ].join('');
        
        // var infowindow = new naver.maps.InfoWindow({
        //     content: contentString,
        //     maxWidth: 200,
        //     backgroundColor: "#ffff",
        //     borderColor: "#000000",
        //     borderWidth: 1,
        //     anchorSize: new naver.maps.Size(30, 3),
        //     anchorSkew: true,
        //     anchorColor: "#ffff",
        //     pixelOffset: new naver.maps.Point(20, -20)
        // });

        // naver.maps.Event.addListener(marker, "click", function(e) {
        //     if (infowindow.getMap()) {
        //         infowindow.close();
        //     } else {
        //         infowindow.open(map, marker);
        //     }
        // });


        $(function() {
	
	    initMap();
	
        });


    function initMap() { 
	
	var areaArr = new Array();  // 지역을 담는 배열 ( 지역명/위도경도 )
	areaArr.push(
			/*지역구 이름*/			/*위도*/					/*경도*/				
		 {location : '서면' , lat : '35.1578157' , lng : '129.0600331'},  // 강남구 중심좌표
		 {location : '수영' , lat : '35.154133773393' , lng : '129.11488705616'},  // 강동구 중심좌표
		 {location : '남포동' , lat : '35.097953' , lng : '129.034869'},  // 강북구 중심좌표
	);	
		
	let markers = new Array(); // 마커 정보를 담는 배열
	let infoWindows = new Array(); // 정보창을 담는 배열
	
	var map = new naver.maps.Map('map', {
        center: new naver.maps.LatLng(35.1578157, 129.0600331), //지도 시작 지점
        zoom: 12
    });
		
	
	
	for (var i = 0; i < areaArr.length; i++) {
		// 지역을 담은 배열의 길이만큼 for문으로 마커와 정보창을 채워주자 !


	    var marker = new naver.maps.Marker({
	        map: map,
	        title: areaArr[i].location, // 지역구 이름 
	        position: new naver.maps.LatLng(35.1578157, 129.0600331), // 지역구의 위도 경도 넣기 
            icon: {
                url: "./img/point.png",
                scaledSize: new naver.maps.Size(25, 25),
                origin: new naver.maps.Point(0, 0),
            },
	    });
	    


	    /* 정보창 */
		 var infoWindow = new naver.maps.InfoWindow({

            position: new naver.maps.LatLng(35.1578157, 129.0600331),

		    content: 
            // '<div style = "width:200px; text-align:center; padding:10px;"><b>' + areaArr[i].location 
            // + '</b><br> 정보 블라블라 </div>',

            '<div class="information">'
            + '<p style = "font-size: 15px; font-weight: bold; margin: 0px 0px 5px 0px" > 서면역 <br/></p>'
            + '<p style = "font-size: 10px; margin: 0px" > 부산시 해운대구 수영강변대로 140<br/>'
            + '<a href="http://www.instagram.com/busan_munhwa_saenghwal/" target="_blank">@부산문화생활</a></p>'
            + '<a href="./contents/summary.html"><img src="/img/1.jpg" width="55" height="55"></a>'
            + '<a href="./contents/summary.html"><img src="/img/2.jpg" width="55" height="55"></a><br /></div>',            


		 }); // 클릭했을 때 띄워줄 정보 HTML 작성    


		 markers.push(marker); // 생성한 마커를 배열에 담는다.
		 infoWindows.push(infoWindow); // 생성한 정보창을 배열에 담는다. 
    }







	for (var i = 0; i < areaArr.length; i++) {

	    var marker = new naver.maps.Marker({
	        map: map,
	        title: areaArr[i].location,
	        position: new naver.maps.LatLng(35.154133773393, 129.11488705616),
            icon: {
                url: "./img/point.png",
                scaledSize: new naver.maps.Size(25, 25),
                origin: new naver.maps.Point(0, 0),
            },
	    });
	    
		 var infoWindow = new naver.maps.InfoWindow({

            position: new naver.maps.LatLng(35.154133773393, 129.11488705616),

		    content: 
            '<div class="information">'
            + '<p style = "font-size: 15px; font-weight: bold; margin: 0px 0px 5px 0px" > 수영역 <br/></p>'
            + '<p style = "font-size: 10px; margin: 0px" > 부산시 해운대구 수영강변대로 140<br/>'

		 });  

		 markers.push(marker);
		 infoWindows.push(infoWindow);

    }






    for (var i = 0; i < areaArr.length; i++) {

        var marker = new naver.maps.Marker({
            map: map,
            title: areaArr[i].location,
            position: new naver.maps.LatLng(35.097953, 129.034869),
            icon: {
                url: "./img/point.png",
                scaledSize: new naver.maps.Size(25, 25),
                origin: new naver.maps.Point(0, 0),
            },
        });

        var infoWindow = new naver.maps.InfoWindow({

            position: new naver.maps.LatLng(35.097953, 129.034869),

            content: 
            '<div class="information">'
            + '<p style = "font-size: 15px; font-weight: bold; margin: 0px 0px 5px 0px" > 남포역 <br/></p>'

        });  

        markers.push(marker);
        infoWindows.push(infoWindow);

    }




    function getClickHandler(seq) {
		
        return function(e) {  // 마커를 클릭하는 부분
            var marker = markers[seq], // 클릭한 마커의 시퀀스로 찾는다.
                infoWindow = infoWindows[seq]; // 클릭한 마커의 시퀀스로 찾는다

            if (infoWindow.getMap()) {
                infoWindow.close();
            } else {
                infoWindow.open(map, marker); // 표출
            }
        }
    }
    
    for (var i=0, ii=markers.length; i<ii; i++) {
    	console.log(markers[i] , getClickHandler(i));
        naver.maps.Event.addListener(markers[i], 'click', getClickHandler(i)); // 클릭한 마커 핸들러
    }
}

    </script>

</body>